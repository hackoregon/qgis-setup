ROW Closure Exploration
================

``` r
# libraries
library(sf)
```

    ## Linking to GEOS 3.5.0, GDAL 2.1.0, proj.4 4.9.2, lwgeom 2.3.2 r15302

``` r
library(tidyverse)
```

    ## Loading tidyverse: ggplot2
    ## Loading tidyverse: tibble
    ## Loading tidyverse: tidyr
    ## Loading tidyverse: readr
    ## Loading tidyverse: purrr
    ## Loading tidyverse: dplyr

    ## Conflicts with tidy packages ----------------------------------------------

    ## filter(): dplyr, stats
    ## lag():    dplyr, stats

``` r
# read shapefile (uses unpacked zipfile)
row_closures <- st_read("~/Downloads/HackOregon/ROWClosures/ROWClosures_02012017.shp")
```

    ## Reading layer `ROWClosures_02012017' from data source `/home/znmeb/Downloads/HackOregon/ROWClosures/ROWClosures_02012017.shp' using driver `ESRI Shapefile'
    ## converted into: POLYGON
    ## Simple feature collection with 28080 features and 21 fields
    ## geometry type:  MULTIPOLYGON
    ## dimension:      XY
    ## bbox:           xmin: 7604942 ymin: 652228.5 xmax: 7698007 ymax: 726637.9
    ## epsg (SRID):    NA
    ## proj4string:    +proj=lcc +lat_1=44.33333333333334 +lat_2=46 +lat_0=43.66666666666666 +lon_0=-120.5 +x_0=2500000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=ft +no_defs

``` r
glimpse(row_closures, width = 0)
```

    ## Observations: 28,080
    ## Variables: 22
    ## $ ClosureID  <fctr> ...
    ## $ ClosureSta <fctr> ...
    ## $ ClosureCat <fctr> ...
    ## $ ClosureDes <fctr> ...
    ## $ ClosureS_1 <date> ...
    ## $ ClosureEnd <date> ...
    ## $ StreetName <fctr> ...
    ## $ FromStreet <fctr> ...
    ## $ ToStreet   <fctr> ...
    ## $ Permittee  <fctr> ...
    ## $ TracsID    <dbl> ...
    ## $ LaneClosur <fctr> ...
    ## $ ParkingClo <fctr> ...
    ## $ StreetClos <fctr> ...
    ## $ SidewalkCl <fctr> ...
    ## $ SidewalkUs <fctr> ...
    ## $ BikeLaneCl <fctr> ...
    ## $ MeterAreaS <int> ...
    ## $ NonMeterAr <int> ...
    ## $ Shape_ST_1 <dbl> ...
    ## $ Shape_ST_2 <dbl> ...
    ## $ geometry   <simple_feature> ...

``` r
# ClosureSta is a factor - how many levels??
levels(row_closures$ClosureSta)
```

    ## [1] "ACTIVE"    "CANCELED"  "COMPLETED" "DENIED"    "REQUESTED"

``` r
# Just get the active ones
active_row_closures <- row_closures %>% filter(ClosureSta == "ACTIVE")
glimpse(active_row_closures, width = 0)
```

    ## Observations: 639
    ## Variables: 22
    ## $ ClosureID  <fctr> ...
    ## $ ClosureSta <fctr> ...
    ## $ ClosureCat <fctr> ...
    ## $ ClosureDes <fctr> ...
    ## $ ClosureS_1 <date> ...
    ## $ ClosureEnd <date> ...
    ## $ StreetName <fctr> ...
    ## $ FromStreet <fctr> ...
    ## $ ToStreet   <fctr> ...
    ## $ Permittee  <fctr> ...
    ## $ TracsID    <dbl> ...
    ## $ LaneClosur <fctr> ...
    ## $ ParkingClo <fctr> ...
    ## $ StreetClos <fctr> ...
    ## $ SidewalkCl <fctr> ...
    ## $ SidewalkUs <fctr> ...
    ## $ BikeLaneCl <fctr> ...
    ## $ MeterAreaS <int> ...
    ## $ NonMeterAr <int> ...
    ## $ Shape_ST_1 <dbl> ...
    ## $ Shape_ST_2 <dbl> ...
    ## $ geometry   <simple_feature> ...
